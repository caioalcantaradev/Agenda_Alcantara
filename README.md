# Fam√≠lia Alcantara

Um aplicativo web de agenda compartilhada integrado com Google Calendar, permitindo que voc√™ e sua esposa compartilhem compromissos em um √∫nico calend√°rio.

## üöÄ Tecnologias

### Backend

- **Node.js** + **Express** - API REST
- **TypeScript** - Tipagem est√°tica
- **MongoDB** + **Mongoose** - Banco de dados
- **Google APIs** - Integra√ß√£o com Google Calendar
- **JWT** - Autentica√ß√£o

### Frontend

- **Next.js 14** - Framework React
- **TypeScript** - Tipagem est√°tica
- **TailwindCSS** - Estiliza√ß√£o
- **Axios** - Cliente HTTP
- **date-fns** - Manipula√ß√£o de datas

## üìã Pr√©-requisitos

- Node.js (vers√£o 18 ou superior)
- MongoDB (local ou MongoDB Atlas)
- Conta Google com acesso ao Google Calendar
- Google Cloud Console configurado

## üõ†Ô∏è Instala√ß√£o

### 1. Clone o reposit√≥rio

```bash
git clone <seu-repositorio>
cd agenda_alcantara
```

### 2. Configure o Backend

```bash
cd backend
npm install
```

Crie um arquivo `.env` na pasta `backend` baseado no `env.example`:

```env
# Google OAuth Configuration
GOOGLE_CLIENT_ID=seu_google_client_id
GOOGLE_CLIENT_SECRET=seu_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:5000/api/auth/google/callback

# Shared Calendar ID (criar um calend√°rio compartilhado no Google Calendar)
SHARED_CALENDAR_ID=id_do_calendario_compartilhado

# Database
MONGODB_URI=mongodb://localhost:27017/agenda_alcantara

# JWT Secret
JWT_SECRET=sua_chave_secreta_jwt

# Server Port
PORT=5000
```

### 3. Configure o Frontend

```bash
cd ../frontend
npm install
```

Crie um arquivo `.env.local` na pasta `frontend` baseado no `env.local.example`:

```env
# API Backend URL
NEXT_PUBLIC_API_URL=http://localhost:5000

# Google OAuth Client ID (mesmo do backend)
NEXT_PUBLIC_GOOGLE_CLIENT_ID=seu_google_client_id
```

## üîß Configura√ß√£o do Google Cloud Console

### 1. Criar Projeto

1. Acesse [Google Cloud Console](https://console.cloud.google.com/)
2. Crie um novo projeto ou selecione um existente

### 2. Habilitar APIs

1. V√° para "APIs & Services" > "Library"
2. Procure e habilite:
   - Google Calendar API
   - Google+ API (para informa√ß√µes do usu√°rio)

### 3. Configurar OAuth 2.0

1. V√° para "APIs & Services" > "Credentials"
2. Clique em "Create Credentials" > "OAuth 2.0 Client IDs"
3. Configure:
   - **Application type**: Web application
   - **Name**: Fam√≠lia Alcantara
   - **Authorized redirect URIs**: `http://localhost:5000/api/auth/google/callback`

### 4. Configurar Tela de Consentimento

1. V√° para "APIs & Services" > "OAuth consent screen"
2. Configure as informa√ß√µes b√°sicas
3. Adicione os usu√°rios de teste (voc√™ e sua esposa)

## üìÖ Configura√ß√£o do Calend√°rio Compartilhado

### 1. Criar Calend√°rio

1. Acesse [Google Calendar](https://calendar.google.com/)
2. Clique no "+" ao lado de "Outros calend√°rios"
3. Selecione "Criar novo calend√°rio"
4. Nome: "Fam√≠lia Alcantara"
5. Clique em "Criar calend√°rio"

### 2. Compartilhar Calend√°rio

1. V√° para as configura√ß√µes do calend√°rio criado
2. Clique em "Compartilhar com pessoas espec√≠ficas"
3. Adicione os emails de voc√™ e sua esposa
4. Defina as permiss√µes como "Fazer altera√ß√µes nos eventos"
5. Copie o ID do calend√°rio (encontrado nas configura√ß√µes)

### 3. Configurar no Backend

1. Cole o ID do calend√°rio na vari√°vel `SHARED_CALENDAR_ID` do arquivo `.env`

## üöÄ Executando o Projeto

### 1. Iniciar o Backend

```bash
cd backend
npm run dev
```

O backend estar√° rodando em `http://localhost:5000`

### 2. Iniciar o Frontend

```bash
cd frontend
npm run dev
```

O frontend estar√° rodando em `http://localhost:3000`

## üì± Como Usar

1. **Login**: Acesse `http://localhost:3000` e clique em "Entrar com Google"
2. **Autoriza√ß√£o**: Autorize o acesso ao Google Calendar
3. **Calend√°rio**: Visualize o calend√°rio mensal com os compromissos
4. **Adicionar**: Clique em "Adicionar Compromisso" ou em uma data no calend√°rio
5. **Compartilhamento**: Todos os eventos aparecer√£o para ambos os usu√°rios

## üîê Seguran√ßa

- Autentica√ß√£o via Google OAuth 2.0
- Tokens JWT para sess√µes
- Valida√ß√£o de usu√°rios autorizados
- CORS configurado para o frontend

## üìù Funcionalidades

- ‚úÖ Login com Google OAuth
- ‚úÖ Calend√°rio mensal interativo
- ‚úÖ Cria√ß√£o de compromissos
- ‚úÖ Visualiza√ß√£o de eventos
- ‚úÖ Interface responsiva
- ‚úÖ Sincroniza√ß√£o com Google Calendar
- ‚úÖ Compartilhamento entre usu√°rios

## üêõ Solu√ß√£o de Problemas

### Erro de CORS

- Verifique se o `FRONTEND_URL` est√° configurado corretamente no backend

### Erro de Autentica√ß√£o

- Verifique se as credenciais do Google OAuth est√£o corretas
- Confirme se o redirect URI est√° configurado no Google Cloud Console

### Erro de Calend√°rio

- Verifique se o `SHARED_CALENDAR_ID` est√° correto
- Confirme se o calend√°rio est√° compartilhado com os usu√°rios

## üìÑ Licen√ßa

MIT License - veja o arquivo LICENSE para detalhes.

